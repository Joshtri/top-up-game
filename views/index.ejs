<!DOCTYPE html>
<html lang="en">
<head>
    <!-- <meta charset="UTF-8"> -->
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <link rel="icon" href="/img/delta_store.png" />
</head>
<body data-bs-theme="dark">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <%-include('layouts');%>

    <style>
      
    </style>

    <div class="container mt-4">
      <% messageSuccessTransaction.forEach(element => { %>
      <!-- Modal untuk Test -->
      <div class="modal fade" id="greetingModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">Notif Pembelian</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            <%= element %>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal">Tutup</button>
              <a href="https://mail.google.com/mail/u/0/#inbox" class="btn btn-primary btn-sm">Masuk Email</a>
            </div>
          </div>
        </div>
      </div>
      <% }) %>
    

      <% messageSuccessLogin.forEach(element => { %>
        <div aria-live="polite" aria-atomic="true" class="position-relative">
            <!-- Position it: -->
            <!-- - `.toast-container` for spacing between toasts -->
            <!-- - `top-0` & `end-0` to position the toasts in the upper right corner -->
            <!-- - `.p-3` to prevent the toasts from sticking to the edge of the container  -->
            <div class="toast-container top-0 end-0">
                <div class="toast fade show ms-auto animate__animated animate__backInRight" role="alert" aria-live="assertive" aria-atomic="true" id="notification-toast">
                    <div class="toast-header ">
                        <div class="custom-avatar rounded me-2"></div>

                        <strong class="">Notifikasi</strong>
                        <small class="ms-auto"><span id="countdown">10</span> second ago</small>
                    </div>
                    <div class="toast-body">
                        <%= element %>
                         
                    <div class="mt-2 pt-2 border-top">
                        <!-- <button type="button" class="btn btn-primary btn-sm">Take action</button> -->
                        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="toast">Close</button>
                    </div>
                    </div>
                </div>
            </div>
        </div>
        <% }) %>

      <h2 class="text-warning-emphasis">Delta Store</h2>
      <span class="small text-light fst-italic">membuat anda top-up lebih semangat</span>
      <hr>

        <div id="carouselExampleDark" class="carousel carousel-dark slide">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner  p-3 mb-3">
              <div class="carousel-item active" data-bs-interval="10000">
                <img src="/img/ads/ads-3.jpg" class="d-block mx-auto w-50" alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <!-- <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first slide.</p> -->
                </div>
              </div>
              <div class="carousel-item" data-bs-interval="2000">
                <img src="/img/ads/ads-2.jpg" class="d-block mx-auto w-50" alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <!-- <h5>Second slide label</h5>
                  <p>Some representative placeholder content for the second slide.</p> -->
                </div>
              </div>
              <div class="carousel-item">
                <img src="/img/ads/ads-1.jpg" class="d-block mx-auto w-50" alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <!-- <h5>Third slide label</h5>
                  <p>Some representative placeholder content for the third slide.</p> -->
                </div>
              </div>
            </div>
            <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button> -->
        </div>

        <h2 class="mt-3 badge text-warning fs-3">Lebih Hemat Pakai Delta Store</h2>

        <div class="card border-1 shadow-lg">
            <div class="card-body">
                <!-- <h3>main kontent card.</h3> -->
                <style>
                    .card-img-top {
                        width: 100%; /* Mengisi lebar card */
                        height: 200px; /* Menentukan tinggi gambar */
                        object-fit: contain; /* Menjaga aspek rasio dan memotong gambar sesuai area */
                    }
                </style>


                <div class="row d-flex">
                    <% games.forEach(game => { %>
                        <div class="col-md-6 col-lg-4 mb-3 ">
                            <a href="/game/<%= game.id %>">
                                <div class="card border-1 shadow-lg mx-auto" style="width: 16rem;">
                                    <img src="<%= game.gambar %>" class="card-img-top mt-1 " alt="...">
                                    <div class="card-body">
                                        <h5 class="card-title text-center"><%= game.nama_game %></h5>  
                                    </div>
                                </div>
                            </a>
                        </div>
                    <% }); %>
                </div>


            </div>
        </div>
        
                    <!-- Modal -->
      <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">Log In Akun</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/login" method="post">
              <div class="modal-body">

                <div class="form-floating mb-3">
                  <input type="email" class="form-control" name="email" id="floatingInput" placeholder="name@example.com"required>
                  <label for="floatingInput">Email</label>
                </div>

                <div class="form-floating">
                  <input type="password" class="form-control" name="password" id="floatingPassword" placeholder="Password"required>
                  <label for="floatingPassword">Password</label>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                <button type="submit" class="btn btn-primary">Masuk Akun Sekarang</button>
              </div>
            </form>
        </div>  
      </div>
    </div>

<!-- JavaScript to show the modal automatically -->
<script>
  $(document).ready(function() {
    $('#greetingModal').modal('show');
  });
  </script>
      <script>
        document.addEventListener('DOMContentLoaded', function () {
            var toast = new bootstrap.Toast(document.getElementById('notification-toast'), { delay: 10000 });
            toast.show();

            var countdownElement = document.getElementById('countdown');
            var countdown = 10;

            var countdownInterval = setInterval(function () {
            countdown--;
            countdownElement.textContent = countdown;
            if (countdown <= 0) {
                clearInterval(countdownInterval);
            }
            }, 1000);
        });
    </script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>